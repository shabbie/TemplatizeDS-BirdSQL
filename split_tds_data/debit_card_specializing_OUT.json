[{"db_id": "debit_card_specializing", "question": "In 2012, who had the least consumption in LAM?", "evidence": "Year 2012 can be presented as Between 201201 And 201212, which means between January and December in 2012", "SQL": "SELECT T1.CustomerID FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Segment = 'LAM' AND T2.date BETWEEN 201201 AND 201212 GROUP BY T1.CustomerID ORDER BY SUM(T2.Consumption) ASC LIMIT 1", "question_toks": ["In", "2012", ",", "who", "had", "the", "least", "consumption", "in", "LAM", "?"], "SQL_toks": ["SELECT", "T1.CustomerID", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Segment", "=", "'LAM", "'", "AND", "T2.date", "BETWEEN", "201201", "AND", "201212", "GROUP", "BY", "T1.CustomerID", "ORDER", "BY", "SUM", "(", "T2.Consumption", ")", "ASC", "LIMIT", "1"], "evidence_toks": ["Year", "2012", "can", "be", "presented", "as", "Between", "201201", "And", "201212", ",", "which", "means", "between", "January", "and", "December", "in", "2012"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "Which customers, paying in CZK, consumed the most gas in 2011?", "evidence": "Year 2011 can be presented as Between 201101 And 201112, which means between January and December in 2011", "SQL": "SELECT T1.CustomerID FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Currency = 'CZK' GROUP BY T1.CustomerID ORDER BY SUM(T2.Consumption) DESC LIMIT 1", "question_toks": ["Which", "customers", ",", "paying", "in", "CZK", ",", "consumed", "the", "most", "gas", "in", "2011", "?"], "SQL_toks": ["SELECT", "T1.CustomerID", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Currency", "=", "'CZK", "'", "GROUP", "BY", "T1.CustomerID", "ORDER", "BY", "SUM", "(", "T2.Consumption", ")", "DESC", "LIMIT", "1"], "evidence_toks": ["Year", "2011", "can", "be", "presented", "as", "Between", "201101", "And", "201112", ",", "which", "means", "between", "January", "and", "December", "in", "2011"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "How many customers in KAM had a consumption of less than 30,000 for the year 2012?", "evidence": "Year 2012 can be presented as Between 201201 And 201212, which means between January and December in 2012", "SQL": "SELECT COUNT(*) FROM ( SELECT T2.CustomerID FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Segment = 'KAM' AND SUBSTRING(T2.Date, 1, 4) = '2012' GROUP BY T2.CustomerID HAVING SUM(T2.Consumption) < 30000 ) AS t1", "question_toks": ["How", "many", "customers", "in", "KAM", "had", "a", "consumption", "of", "less", "than", "30,000", "for", "the", "year", "2012", "?"], "SQL_toks": ["SELECT", "COUNT", "(", "*", ")", "FROM", "(", "SELECT", "T2.CustomerID", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Segment", "=", "'KAM", "'", "AND", "SUBSTRING", "(", "T2.Date", ",", "1", ",", "4", ")", "=", "'2012", "'", "GROUP", "BY", "T2.CustomerID", "HAVING", "SUM", "(", "T2.Consumption", ")", "<", "30000", ")", "AS", "t1"], "evidence_toks": ["Year", "2012", "can", "be", "presented", "as", "Between", "201201", "And", "201212", ",", "which", "means", "between", "January", "and", "December", "in", "2012"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "Which segment had the least consumption?", "evidence": "", "SQL": "SELECT T1.Segment FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID GROUP BY T1.Segment ORDER BY SUM(T2.Consumption) ASC LIMIT 1", "question_toks": ["Which", "segment", "had", "the", "least", "consumption", "?"], "SQL_toks": ["SELECT", "T1.Segment", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "GROUP", "BY", "T1.Segment", "ORDER", "BY", "SUM", "(", "T2.Consumption", ")", "ASC", "LIMIT", "1"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What is the difference in the annual average consumption of the customers with the least amount of consumption paid in CZK for 2013 between SME and LAM, LAM and KAM, and KAM and SME?", "evidence": "annual average of customer with the lowest consumption in each segment = total consumption per year / 3 years; Difference in annual average = SME's annual average - LAM's annual average; Difference in annual average = LAM's annual average - KAM's annual average; Year 2013 can be presented as Between 201301 And 201312; First 4 strings of Date represents the year.", "SQL": "SELECT CAST(SUM(IIF(T1.Segment = 'SME', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) - CAST(SUM(IIF(T1.Segment = 'LAM', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) , CAST(SUM(IIF(T1.Segment = 'LAM', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) - CAST(SUM(IIF(T1.Segment = 'KAM', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) , CAST(SUM(IIF(T1.Segment = 'KAM', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) - CAST(SUM(IIF(T1.Segment = 'SME', T2.Consumption, 0)) AS FLOAT) / COUNT(T1.CustomerID) FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Currency = 'CZK' AND T2.Consumption = ( SELECT MIN(Consumption) FROM yearmonth ) AND T2.Date >= 201301", "question_toks": ["What", "is", "the", "difference", "in", "the", "annual", "average", "consumption", "of", "the", "customers", "with", "the", "least", "amount", "of", "consumption", "paid", "in", "CZK", "for", "2013", "between", "SME", "and", "LAM", ",", "LAM", "and", "KAM", ",", "and", "KAM", "and", "SME", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'SME", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", "-", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'LAM", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", ",", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'LAM", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", "-", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'KAM", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", ",", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'KAM", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", "-", "CAST", "(", "SUM", "(", "IIF", "(", "T1.Segment", "=", "'SME", "'", ",", "T2.Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "COUNT", "(", "T1.CustomerID", ")", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Currency", "=", "'CZK", "'", "AND", "T2.Consumption", "=", "(", "SELECT", "MIN", "(", "Consumption", ")", "FROM", "yearmonth", ")", "AND", "T2.Date", ">", "=", "201301"], "evidence_toks": ["annual", "average", "of", "customer", "with", "the", "lowest", "consumption", "in", "each", "segment", "=", "total", "consumption", "per", "year", "/", "3", "years", ";", "Difference", "in", "annual", "average", "=", "SME", "'s", "annual", "average", "-", "LAM", "'s", "annual", "average", ";", "Difference", "in", "annual", "average", "=", "LAM", "'s", "annual", "average", "-", "KAM", "'s", "annual", "average", ";", "Year", "2013", "can", "be", "presented", "as", "Between", "201301", "And", "201312", ";", "First", "4", "strings", "of", "Date", "represents", "the", "year", "."], "difficulty": "challenging"}, {"db_id": "debit_card_specializing", "question": "How much more was customer 7 consuming in April 2013 than customer 5?", "evidence": "April 2013 refers to 201304 in the yearmonth.date", "SQL": "SELECT SUM(IIF(CustomerID = 7, Consumption, 0)) - SUM(IIF(CustomerID = 5, Consumption, 0)) FROM yearmonth WHERE Date = '201304'", "question_toks": ["How", "much", "more", "was", "customer", "7", "consuming", "in", "April", "2013", "than", "customer", "5", "?"], "SQL_toks": ["SELECT", "SUM", "(", "IIF", "(", "CustomerID", "=", "7", ",", "Consumption", ",", "0", ")", ")", "-", "SUM", "(", "IIF", "(", "CustomerID", "=", "5", ",", "Consumption", ",", "0", ")", ")", "FROM", "yearmonth", "WHERE", "Date", "=", "'201304", "'"], "evidence_toks": ["April", "2013", "refers", "to", "201304", "in", "the", "yearmonth.date"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Is it true that more SMEs pay in Czech koruna than in euros? If so, how many more?", "evidence": "Amount of more SMEs = Total of SMEs uses Czech Koruna - Total of SMEs uses Euro", "SQL": "SELECT SUM(Currency = 'CZK') - SUM(Currency = 'EUR') FROM customers WHERE Segment = 'SME'", "question_toks": ["Is", "it", "true", "that", "more", "SMEs", "pay", "in", "Czech", "koruna", "than", "in", "euros", "?", "If", "so", ",", "how", "many", "more", "?"], "SQL_toks": ["SELECT", "SUM", "(", "Currency", "=", "'CZK", "'", ")", "-", "SUM", "(", "Currency", "=", "'EUR", "'", ")", "FROM", "customers", "WHERE", "Segment", "=", "'SME", "'"], "evidence_toks": ["Amount", "of", "more", "SMEs", "=", "Total", "of", "SMEs", "uses", "Czech", "Koruna", "-", "Total", "of", "SMEs", "uses", "Euro"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Which LAM customer used the Euro as their currency and had the highest consumption in October 2013?", "evidence": "October 2013 refers to 201310 in the yearmonth.date", "SQL": "SELECT T1.CustomerID FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Segment = 'LAM' AND T2.Date = '201310' AND T1.Currency = 'EUR' GROUP BY T1.CustomerID ORDER BY SUM(T2.Consumption) DESC LIMIT 1", "question_toks": ["Which", "LAM", "customer", "used", "the", "Euro", "as", "their", "currency", "and", "had", "the", "highest", "consumption", "in", "October", "2013", "?"], "SQL_toks": ["SELECT", "T1.CustomerID", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Segment", "=", "'LAM", "'", "AND", "T2.Date", "=", "'201310", "'", "AND", "T1.Currency", "=", "'EUR", "'", "GROUP", "BY", "T1.CustomerID", "ORDER", "BY", "SUM", "(", "T2.Consumption", ")", "DESC", "LIMIT", "1"], "evidence_toks": ["October", "2013", "refers", "to", "201310", "in", "the", "yearmonth.date"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "Who among KAM's customers consumed the most? How much did it consume?", "evidence": "", "SQL": "SELECT T2.CustomerID, SUM(T2.Consumption) FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Segment = 'KAM' GROUP BY T2.CustomerID ORDER BY SUM(T2.Consumption) DESC LIMIT 1", "question_toks": ["Who", "among", "KAM", "'s", "customers", "consumed", "the", "most", "?", "How", "much", "did", "it", "consume", "?"], "SQL_toks": ["SELECT", "T2.CustomerID", ",", "SUM", "(", "T2.Consumption", ")", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Segment", "=", "'KAM", "'", "GROUP", "BY", "T2.CustomerID", "ORDER", "BY", "SUM", "(", "T2.Consumption", ")", "DESC", "LIMIT", "1"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "How much did the KAM customers consume in total in May 2013?", "evidence": "May 2013 refers to yearmonth.date = 201305", "SQL": "SELECT SUM(T2.Consumption) FROM customers AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T2.Date = '201305' AND T1.Segment = 'KAM'", "question_toks": ["How", "much", "did", "the", "KAM", "customers", "consume", "in", "total", "in", "May", "2013", "?"], "SQL_toks": ["SELECT", "SUM", "(", "T2.Consumption", ")", "FROM", "customers", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T2.Date", "=", "'201305", "'", "AND", "T1.Segment", "=", "'KAM", "'"], "evidence_toks": ["May", "2013", "refers", "to", "yearmonth.date", "=", "201305"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Which country has more \"value for money\" gas stations? Please give a total number of \"value for money\" gas stations in each country.", "evidence": "", "SQL": "SELECT Country , ( SELECT COUNT(GasStationID) FROM gasstations WHERE Segment = 'Value for money' ) FROM gasstations WHERE Segment = 'Value for money' GROUP BY Country ORDER BY COUNT(GasStationID) DESC LIMIT 1", "question_toks": ["Which", "country", "has", "more", "``", "value", "for", "money", "''", "gas", "stations", "?", "Please", "give", "a", "total", "number", "of", "``", "value", "for", "money", "''", "gas", "stations", "in", "each", "country", "."], "SQL_toks": ["SELECT", "Country", ",", "(", "SELECT", "COUNT", "(", "GasStationID", ")", "FROM", "gasstations", "WHERE", "Segment", "=", "'Value", "for", "money", "'", ")", "FROM", "gasstations", "WHERE", "Segment", "=", "'Value", "for", "money", "'", "GROUP", "BY", "Country", "ORDER", "BY", "COUNT", "(", "GasStationID", ")", "DESC", "LIMIT", "1"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What percentage of KAM customers pay in euros?", "evidence": "Percentage of KAM uses Euro = (Total of KAM uses Euro / Total of KAM) * 100%.", "SQL": "SELECT CAST(SUM(Currency = 'EUR') AS FLOAT) * 100 / COUNT(CustomerID) FROM customers WHERE Segment = 'KAM'", "question_toks": ["What", "percentage", "of", "KAM", "customers", "pay", "in", "euros", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "Currency", "=", "'EUR", "'", ")", "AS", "FLOAT", ")", "*", "100", "/", "COUNT", "(", "CustomerID", ")", "FROM", "customers", "WHERE", "Segment", "=", "'KAM", "'"], "evidence_toks": ["Percentage", "of", "KAM", "uses", "Euro", "=", "(", "Total", "of", "KAM", "uses", "Euro", "/", "Total", "of", "KAM", ")", "*", "100", "%", "."], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "In February 2012, what percentage of customers consumed more than 528.3?", "evidence": "February 2012 refers to '201202' in yearmonth.date", "SQL": "SELECT CAST(SUM(IIF(Consumption > 528.3, 1, 0)) AS FLOAT) * 100 / COUNT(CustomerID) FROM yearmonth WHERE Date = '201202'", "question_toks": ["In", "February", "2012", ",", "what", "percentage", "of", "customers", "consumed", "more", "than", "528.3", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "IIF", "(", "Consumption", ">", "528.3", ",", "1", ",", "0", ")", ")", "AS", "FLOAT", ")", "*", "100", "/", "COUNT", "(", "CustomerID", ")", "FROM", "yearmonth", "WHERE", "Date", "=", "'201202", "'"], "evidence_toks": ["February", "2012", "refers", "to", "'201202", "'", "in", "yearmonth.date"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What is the highest monthly consumption in the year 2012?", "evidence": "The first 4 strings of yearmonth.date can represent the year.", "SQL": "SELECT SUM(Consumption) FROM yearmonth WHERE SUBSTRING(Date, 1, 4) = '2012' GROUP BY SUBSTRING(Date, 5, 2) ORDER BY SUM(Consumption) DESC LIMIT 1", "question_toks": ["What", "is", "the", "highest", "monthly", "consumption", "in", "the", "year", "2012", "?"], "SQL_toks": ["SELECT", "SUM", "(", "Consumption", ")", "FROM", "yearmonth", "WHERE", "SUBSTRING", "(", "Date", ",", "1", ",", "4", ")", "=", "'2012", "'", "GROUP", "BY", "SUBSTRING", "(", "Date", ",", "5", ",", "2", ")", "ORDER", "BY", "SUM", "(", "Consumption", ")", "DESC", "LIMIT", "1"], "evidence_toks": ["The", "first", "4", "strings", "of", "yearmonth.date", "can", "represent", "the", "year", "."], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Please list the countries of the gas stations with transactions taken place in June, 2013.", "evidence": "September 2013 refers to '201306'; First 4 strings represent the year", "SQL": "SELECT T2.Country FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID INNER JOIN yearmonth AS T3 ON T1.CustomerID = T3.CustomerID WHERE T3.Date = '201306'", "question_toks": ["Please", "list", "the", "countries", "of", "the", "gas", "stations", "with", "transactions", "taken", "place", "in", "June", ",", "2013", "."], "SQL_toks": ["SELECT", "T2.Country", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "INNER", "JOIN", "yearmonth", "AS", "T3", "ON", "T1.CustomerID", "=", "T3.CustomerID", "WHERE", "T3.Date", "=", "'201306", "'"], "evidence_toks": ["September", "2013", "refers", "to", "'201306", "'", ";", "First", "4", "strings", "represent", "the", "year"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "Please list the chains of the gas stations with transactions in euro.", "evidence": "", "SQL": "SELECT DISTINCT T3.ChainID FROM transactions_1k AS T1 INNER JOIN customers AS T2 ON T1.CustomerID = T2.CustomerID INNER JOIN gasstations AS T3 ON T1.GasStationID = T3.GasStationID WHERE T2.Currency = 'EUR'", "question_toks": ["Please", "list", "the", "chains", "of", "the", "gas", "stations", "with", "transactions", "in", "euro", "."], "SQL_toks": ["SELECT", "DISTINCT", "T3.ChainID", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "customers", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "INNER", "JOIN", "gasstations", "AS", "T3", "ON", "T1.GasStationID", "=", "T3.GasStationID", "WHERE", "T2.Currency", "=", "'EUR", "'"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What is the average total price of the transactions taken place in January, 2012?", "evidence": "In January, 2012 means Date contains '2012-01'", "SQL": "SELECT AVG(Amount) FROM transactions_1k WHERE Date LIKE '2012-01%'", "question_toks": ["What", "is", "the", "average", "total", "price", "of", "the", "transactions", "taken", "place", "in", "January", ",", "2012", "?"], "SQL_toks": ["SELECT", "AVG", "(", "Amount", ")", "FROM", "transactions_1k", "WHERE", "Date", "LIKE", "'2012-01", "%", "'"], "evidence_toks": ["In", "January", ",", "2012", "means", "Date", "contains", "'2012-01", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Please list the product descriptions of the transactions taken place in the gas stations in the Czech Republic.", "evidence": "Gas station in the Czech Republic implies that Country = CZE", "SQL": "SELECT T3.Description FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID INNER JOIN products AS T3 ON T1.ProductID = T3.ProductID WHERE T2.Country = 'CZE'", "question_toks": ["Please", "list", "the", "product", "descriptions", "of", "the", "transactions", "taken", "place", "in", "the", "gas", "stations", "in", "the", "Czech", "Republic", "."], "SQL_toks": ["SELECT", "T3.Description", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "INNER", "JOIN", "products", "AS", "T3", "ON", "T1.ProductID", "=", "T3.ProductID", "WHERE", "T2.Country", "=", "'CZE", "'"], "evidence_toks": ["Gas", "station", "in", "the", "Czech", "Republic", "implies", "that", "Country", "=", "CZE"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "How many transactions taken place in the gas station in the Czech Republic are with a price of over 1000?", "evidence": "Gas station in the Czech Republic implies that Country = 'CZE'", "SQL": "SELECT COUNT(T1.TransactionID) FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T2.Country = 'CZE' AND T1.Price > 1000", "question_toks": ["How", "many", "transactions", "taken", "place", "in", "the", "gas", "station", "in", "the", "Czech", "Republic", "are", "with", "a", "price", "of", "over", "1000", "?"], "SQL_toks": ["SELECT", "COUNT", "(", "T1.TransactionID", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T2.Country", "=", "'CZE", "'", "AND", "T1.Price", ">", "1000"], "evidence_toks": ["Gas", "station", "in", "the", "Czech", "Republic", "implies", "that", "Country", "=", "'CZE", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Among the transactions made in the gas stations in the Czech Republic, how many of them are taken place after 2012/1/1?", "evidence": "Gas station in the Czech Republic implies that Country = 'CZE'", "SQL": "SELECT COUNT(T1.TransactionID) FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T2.Country = 'CZE' AND strftime('%Y', T1.Date) >= 2012", "question_toks": ["Among", "the", "transactions", "made", "in", "the", "gas", "stations", "in", "the", "Czech", "Republic", ",", "how", "many", "of", "them", "are", "taken", "place", "after", "2012/1/1", "?"], "SQL_toks": ["SELECT", "COUNT", "(", "T1.TransactionID", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T2.Country", "=", "'CZE", "'", "AND", "strftime", "(", "'", "%", "Y", "'", ",", "T1.Date", ")", ">", "=", "2012"], "evidence_toks": ["Gas", "station", "in", "the", "Czech", "Republic", "implies", "that", "Country", "=", "'CZE", "'"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "What is the average total price of the transactions taken place in gas stations in the Czech Republic?", "evidence": "Gas station in the Czech Republic implies that Country = 'CZE'", "SQL": "SELECT AVG(T1.Price) FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T2.Country = 'CZE'", "question_toks": ["What", "is", "the", "average", "total", "price", "of", "the", "transactions", "taken", "place", "in", "gas", "stations", "in", "the", "Czech", "Republic", "?"], "SQL_toks": ["SELECT", "AVG", "(", "T1.Price", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T2.Country", "=", "'CZE", "'"], "evidence_toks": ["Gas", "station", "in", "the", "Czech", "Republic", "implies", "that", "Country", "=", "'CZE", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "For the customers who paid in the euro, what is their average total price of the transactions?", "evidence": "", "SQL": "SELECT AVG(T1.Price) FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID INNER JOIN customers AS T3 ON T1.CustomerID = T3.CustomerID WHERE T3.Currency = 'EUR'", "question_toks": ["For", "the", "customers", "who", "paid", "in", "the", "euro", ",", "what", "is", "their", "average", "total", "price", "of", "the", "transactions", "?"], "SQL_toks": ["SELECT", "AVG", "(", "T1.Price", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "INNER", "JOIN", "customers", "AS", "T3", "ON", "T1.CustomerID", "=", "T3.CustomerID", "WHERE", "T3.Currency", "=", "'EUR", "'"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Which customer paid the most in 2012/8/25?", "evidence": "'2012/8/25' can be represented by '2012-08-25'", "SQL": "SELECT CustomerID FROM transactions_1k WHERE Date = '2012-08-25' GROUP BY CustomerID ORDER BY SUM(Price) DESC LIMIT 1", "question_toks": ["Which", "customer", "paid", "the", "most", "in", "2012/8/25", "?"], "SQL_toks": ["SELECT", "CustomerID", "FROM", "transactions_1k", "WHERE", "Date", "=", "'2012-08-25", "'", "GROUP", "BY", "CustomerID", "ORDER", "BY", "SUM", "(", "Price", ")", "DESC", "LIMIT", "1"], "evidence_toks": ["'2012/8/25", "'", "can", "be", "represented", "by", "'2012-08-25", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "Which country's gas station had the first paid cusomer in 2012/8/25?", "evidence": "'2012/8/25' can be represented by '2012-08-25'", "SQL": "SELECT T2.Country FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T1.Date = '2012-08-25' ORDER BY T1.Time DESC LIMIT 1", "question_toks": ["Which", "country", "'s", "gas", "station", "had", "the", "first", "paid", "cusomer", "in", "2012/8/25", "?"], "SQL_toks": ["SELECT", "T2.Country", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T1.Date", "=", "'2012-08-25", "'", "ORDER", "BY", "T1.Time", "DESC", "LIMIT", "1"], "evidence_toks": ["'2012/8/25", "'", "can", "be", "represented", "by", "'2012-08-25", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What kind of currency did the customer paid at 16:25:00 in 2012/8/24?", "evidence": "'2012/8/24' can be represented by '2012-08-24'", "SQL": "SELECT T3.Currency FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID INNER JOIN customers AS T3 ON T1.CustomerID = T3.CustomerID WHERE T1.Date = '2012-08-24' AND T1.Time = '16:25:00'", "question_toks": ["What", "kind", "of", "currency", "did", "the", "customer", "paid", "at", "16:25:00", "in", "2012/8/24", "?"], "SQL_toks": ["SELECT", "T3.Currency", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "INNER", "JOIN", "customers", "AS", "T3", "ON", "T1.CustomerID", "=", "T3.CustomerID", "WHERE", "T1.Date", "=", "'2012-08-24", "'", "AND", "T1.Time", "=", "'16:25:00", "'"], "evidence_toks": ["'2012/8/24", "'", "can", "be", "represented", "by", "'2012-08-24", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What segment did the customer have at 2012/8/23 21:20:00?", "evidence": "'2012/8/23 21:20:00' can refer to date = '2012-08-23' AND T1.time = '21:20:00' in the database", "SQL": "SELECT T2.Segment FROM transactions_1k AS T1 INNER JOIN customers AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.date = '2012-08-23' AND T1.time = '21:20:00'", "question_toks": ["What", "segment", "did", "the", "customer", "have", "at", "2012/8/23", "21:20:00", "?"], "SQL_toks": ["SELECT", "T2.Segment", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "customers", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.date", "=", "'2012-08-23", "'", "AND", "T1.time", "=", "'21:20:00", "'"], "evidence_toks": ["'2012/8/23", "21:20:00", "'", "can", "refer", "to", "date", "=", "'2012-08-23", "'", "AND", "T1.time", "=", "'21:20:00", "'", "in", "the", "database"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "For all the transactions happened during 8:00-9:00 in 2012/8/26, how many happened in CZE?", "evidence": "Gas station in the Czech Republic implies that Country = CZE; '2012/8/26' can be represented by '2012-08-26'", "SQL": "SELECT COUNT(T1.TransactionID) FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T1.Date = '2012-08-26' AND T1.Time BETWEEN '08:00:00' AND '09:00:00' AND T2.Country = 'CZE'", "question_toks": ["For", "all", "the", "transactions", "happened", "during", "8:00-9:00", "in", "2012/8/26", ",", "how", "many", "happened", "in", "CZE", "?"], "SQL_toks": ["SELECT", "COUNT", "(", "T1.TransactionID", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T1.Date", "=", "'2012-08-26", "'", "AND", "T1.Time", "BETWEEN", "'08:00:00", "'", "AND", "'09:00:00", "'", "AND", "T2.Country", "=", "'CZE", "'"], "evidence_toks": ["Gas", "station", "in", "the", "Czech", "Republic", "implies", "that", "Country", "=", "CZE", ";", "'2012/8/26", "'", "can", "be", "represented", "by", "'2012-08-26", "'"], "difficulty": "moderate"}, {"db_id": "debit_card_specializing", "question": "There's one customer spent 214582.17 in the June of 2013, which currency did he/she use?", "evidence": "June of 2013 means Date contains '201306' in the yearmonth.date of the database", "SQL": "SELECT T2.Currency FROM yearmonth AS T1 INNER JOIN customers AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Date = '201306' AND T1.Consumption = 214582.17", "question_toks": ["There", "'s", "one", "customer", "spent", "214582.17", "in", "the", "June", "of", "2013", ",", "which", "currency", "did", "he/she", "use", "?"], "SQL_toks": ["SELECT", "T2.Currency", "FROM", "yearmonth", "AS", "T1", "INNER", "JOIN", "customers", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Date", "=", "'201306", "'", "AND", "T1.Consumption", "=", "214582.17"], "evidence_toks": ["June", "of", "2013", "means", "Date", "contains", "'201306", "'", "in", "the", "yearmonth.date", "of", "the", "database"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "What is the percentage of the customers who used EUR in 2012/8/25?", "evidence": "'2012/8/25' can be represented by '2012-08-25'", "SQL": "SELECT CAST(SUM(IIF(T2.Currency = 'EUR', 1, 0)) AS FLOAT) * 100 / COUNT(T1.CustomerID) FROM transactions_1k AS T1 INNER JOIN customers AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Date = '2012-08-25'", "question_toks": ["What", "is", "the", "percentage", "of", "the", "customers", "who", "used", "EUR", "in", "2012/8/25", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "IIF", "(", "T2.Currency", "=", "'EUR", "'", ",", "1", ",", "0", ")", ")", "AS", "FLOAT", ")", "*", "100", "/", "COUNT", "(", "T1.CustomerID", ")", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "customers", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Date", "=", "'2012-08-25", "'"], "evidence_toks": ["'2012/8/25", "'", "can", "be", "represented", "by", "'2012-08-25", "'"], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "For the customer who paid 634.8 in 2012/8/25, what was the consumption decrease rate from Year 2012 to 2013?", "evidence": "'2012/8/24' can be represented by '2012-08-24'; Consumption decrease rate = (consumption_2012 - consumption_2013) / consumption_2012", "SQL": "SELECT CAST(SUM(IIF(SUBSTRING(Date, 1, 4) = '2012', Consumption, 0)) - SUM(IIF(SUBSTRING(Date, 1, 4) = '2013', Consumption, 0)) AS FLOAT) / SUM(IIF(SUBSTRING(Date, 1, 4) = '2012', Consumption, 0)) FROM yearmonth WHERE CustomerID = ( SELECT T1.CustomerID FROM transactions_1k AS T1 INNER JOIN gasstations AS T2 ON T1.GasStationID = T2.GasStationID WHERE T1.Date = '2012-08-25' AND T1.Price = 634.8 )", "question_toks": ["For", "the", "customer", "who", "paid", "634.8", "in", "2012/8/25", ",", "what", "was", "the", "consumption", "decrease", "rate", "from", "Year", "2012", "to", "2013", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "IIF", "(", "SUBSTRING", "(", "Date", ",", "1", ",", "4", ")", "=", "'2012", "'", ",", "Consumption", ",", "0", ")", ")", "-", "SUM", "(", "IIF", "(", "SUBSTRING", "(", "Date", ",", "1", ",", "4", ")", "=", "'2013", "'", ",", "Consumption", ",", "0", ")", ")", "AS", "FLOAT", ")", "/", "SUM", "(", "IIF", "(", "SUBSTRING", "(", "Date", ",", "1", ",", "4", ")", "=", "'2012", "'", ",", "Consumption", ",", "0", ")", ")", "FROM", "yearmonth", "WHERE", "CustomerID", "=", "(", "SELECT", "T1.CustomerID", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "gasstations", "AS", "T2", "ON", "T1.GasStationID", "=", "T2.GasStationID", "WHERE", "T1.Date", "=", "'2012-08-25", "'", "AND", "T1.Price", "=", "634.8", ")"], "evidence_toks": ["'2012/8/24", "'", "can", "be", "represented", "by", "'2012-08-24", "'", ";", "Consumption", "decrease", "rate", "=", "(", "consumption_2012", "-", "consumption_2013", ")", "/", "consumption_2012"], "difficulty": "challenging"}, {"db_id": "debit_card_specializing", "question": "What is the percentage of \"premium\" against the overall segment in \"SVK\"?", "evidence": "", "SQL": "SELECT CAST(SUM(IIF(Country = 'SVK' AND Segment = 'Premium', 1, 0)) AS FLOAT) * 100 / COUNT(GasStationID) FROM gasstations", "question_toks": ["What", "is", "the", "percentage", "of", "``", "premium", "''", "against", "the", "overall", "segment", "in", "``", "SVK", "''", "?"], "SQL_toks": ["SELECT", "CAST", "(", "SUM", "(", "IIF", "(", "Country", "=", "'SVK", "'", "AND", "Segment", "=", "'Premium", "'", ",", "1", ",", "0", ")", ")", "AS", "FLOAT", ")", "*", "100", "/", "COUNT", "(", "GasStationID", ")", "FROM", "gasstations"], "evidence_toks": [], "difficulty": "simple"}, {"db_id": "debit_card_specializing", "question": "For all the people who paid more than 29.00 per unit of product id No.5. Give their consumption status in the August of 2012.", "evidence": "August of 2012 means Date contains '201208' in the yearmonth.date of the database; Price per unit of product = T1.Price / T1.Amount", "SQL": "SELECT T2.CustomerID, T2.Consumption FROM transactions_1k AS T1 INNER JOIN yearmonth AS T2 ON T1.CustomerID = T2.CustomerID WHERE T1.Price / T1.Amount > 29.00 AND T1.ProductID = 5 AND T2.Date = '201208'", "question_toks": ["For", "all", "the", "people", "who", "paid", "more", "than", "29.00", "per", "unit", "of", "product", "id", "No.5", ".", "Give", "their", "consumption", "status", "in", "the", "August", "of", "2012", "."], "SQL_toks": ["SELECT", "T2.CustomerID", ",", "T2.Consumption", "FROM", "transactions_1k", "AS", "T1", "INNER", "JOIN", "yearmonth", "AS", "T2", "ON", "T1.CustomerID", "=", "T2.CustomerID", "WHERE", "T1.Price", "/", "T1.Amount", ">", "29.00", "AND", "T1.ProductID", "=", "5", "AND", "T2.Date", "=", "'201208", "'"], "evidence_toks": ["August", "of", "2012", "means", "Date", "contains", "'201208", "'", "in", "the", "yearmonth.date", "of", "the", "database", ";", "Price", "per", "unit", "of", "product", "=", "T1.Price", "/", "T1.Amount"], "difficulty": "moderate"}]